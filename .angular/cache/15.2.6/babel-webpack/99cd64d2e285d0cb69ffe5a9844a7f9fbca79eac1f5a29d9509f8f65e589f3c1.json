{"ast":null,"code":"import { List } from '../../../model/list/list.model';\nimport { BoardModel } from '../../../model/board/board.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/board/local/local.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../list/list.component\";\nimport * as i5 from \"../../../search-filter.pipe\";\nfunction BoardComponent_app_list_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-list\", 16);\n    i0.ɵɵlistener(\"moveCardAcrossList\", function BoardComponent_app_list_17_Template_app_list_moveCardAcrossList_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.moveCardAcrossList($event));\n    })(\"deleteList\", function BoardComponent_app_list_17_Template_app_list_deleteList_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteList($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const list_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵproperty(\"list\", list_r1)(\"listIndex\", i_r2);\n    i0.ɵɵattribute(\"listIndex\", i_r2);\n  }\n}\nexport class BoardComponent {\n  constructor(localService, formBuilder) {\n    this.localService = localService;\n    this.formBuilder = formBuilder;\n    this.searchForm = this.formBuilder.group({\n      search: ''\n    });\n  }\n  ngOnInit() {\n    const board = this.localService.getBoard();\n    this.lists = board.lists || [{\n      \"id\": '1',\n      \"cards\": [],\n      \"position\": 1,\n      \"name\": \"Todo\"\n    }, {\n      \"id\": '2',\n      \"cards\": [],\n      \"position\": 2,\n      \"name\": \"InProgress\"\n    }, {\n      \"id\": '3',\n      \"cards\": [],\n      \"position\": 3,\n      \"name\": \"Completed\"\n    }];\n    // ideally retrive and initialize from some storage.\n  }\n\n  addList() {\n    const newList = new List();\n    newList.position = this.lists.length + 1;\n    newList.name = `List #${newList.position}`;\n    if (this.lists === undefined) {\n      this.lists = [];\n    }\n    this.lists.push(newList);\n    console.log(this.lists);\n  }\n  moveCardAcrossList(movementInformation) {\n    const cardMoved = this.lists[movementInformation.fromListIdx].cards.splice(movementInformation.fromCardIdx, 1);\n    this.lists[movementInformation.toListIdx].cards.splice(movementInformation.toCardIdx, 0, ...cardMoved);\n  }\n  saveBoard() {\n    const boardModel = new BoardModel();\n    boardModel.lists = this.lists;\n    this.localService.saveBoard(boardModel);\n  }\n  deleteList(listIndex) {\n    this.lists.splice(listIndex, 1);\n  }\n}\nBoardComponent.ɵfac = function BoardComponent_Factory(t) {\n  return new (t || BoardComponent)(i0.ɵɵdirectiveInject(i1.LocalService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nBoardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BoardComponent,\n  selectors: [[\"app-board\"]],\n  decls: 22,\n  vars: 5,\n  consts: [[1, \"container\", 2, \"max-width\", \"inherit\", \"width\", \"auto\", \"height\", \"100%\"], [1, \"row\"], [1, \"col-11\"], [1, \"flex\", \"justify-content-end\", \"align-content-center\", \"py-3\", \"pr-5\"], [1, \"bg-blue-600\", \"text-white\", \"py-2\", \"px-3\", \"border-round-md\", \"outline-none\", 2, \"border\", \"0\", 3, \"click\"], [1, \"card\", 2, \"height\", \"inherit\"], [3, \"formGroup\"], [\"formControlName\", \"search\"], [1, \"card\"], [1, \"field\"], [\"for\", \"firstname1\"], [\"id\", \"firstname1\", \"type\", \"text\", 1, \"text-base\", \"text-color\", \"surface-overlay\", \"p-2\", \"border-1\", \"border-solid\", \"surface-border\", \"border-round\", \"appearance-none\", \"outline-none\", \"focus:border-primary\", \"w-full\"], [1, \"flex\", \"gap-3\", \"card-container\", \"overflow-x-auto\", \"pb-4\"], [3, \"list\", \"listIndex\", \"moveCardAcrossList\", \"deleteList\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex-1\", 2, \"margin\", \"10px\", \"padding\", \"15px\", \"padding-top\", \"15px\", \"padding-bottom\", \"15px\"], [1, \"text-center\", \"add-new-list\", 3, \"click\"], [3, \"list\", \"listIndex\", \"moveCardAcrossList\", \"deleteList\"]],\n  template: function BoardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function BoardComponent_Template_button_click_4_listener() {\n        return ctx.saveBoard();\n      });\n      i0.ɵɵtext(5, \"Save\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(6, \"div\", 5)(7, \"form\", 6);\n      i0.ɵɵelement(8, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"h5\");\n      i0.ɵɵtext(11, \"Search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 9)(13, \"label\", 10);\n      i0.ɵɵtext(14, \"Firstname\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 12);\n      i0.ɵɵtemplate(17, BoardComponent_app_list_17_Template, 1, 3, \"app-list\", 13);\n      i0.ɵɵpipe(18, \"searchFilter\");\n      i0.ɵɵelementStart(19, \"div\", 14)(20, \"h6\", 15);\n      i0.ɵɵlistener(\"click\", function BoardComponent_Template_h6_click_20_listener() {\n        return ctx.addList();\n      });\n      i0.ɵɵtext(21, \"Add new item...\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(18, 2, ctx.lists, ctx.searchForm.value.search));\n    }\n  },\n  dependencies: [i3.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i4.ListComponent, i5.SearchFilterPipe],\n  styles: [\".text-center.add-new-list[_ngcontent-%COMP%]:hover {\\n  opacity:0.9;\\n  color:#40409A;\\n}\\n\\n.text-center.add-new-list[_ngcontent-%COMP%] {\\n  font-size:14px;\\n  color:#767676;\\n  cursor:pointer;\\n  opacity:0.4;\\n}\\n.card[_ngcontent-%COMP%] {\\n  width: 30%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ib2FyZC9ib2FyZC9ib2FyZC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxhQUFhO0VBQ2IsY0FBYztFQUNkLFdBQVc7QUFDYjtBQUNBO0VBQ0UsVUFBVTtBQUNaIiwic291cmNlc0NvbnRlbnQiOlsiLnRleHQtY2VudGVyLmFkZC1uZXctbGlzdDpob3ZlciB7XG4gIG9wYWNpdHk6MC45O1xuICBjb2xvcjojNDA0MDlBO1xufVxuXG4udGV4dC1jZW50ZXIuYWRkLW5ldy1saXN0IHtcbiAgZm9udC1zaXplOjE0cHg7XG4gIGNvbG9yOiM3Njc2NzY7XG4gIGN1cnNvcjpwb2ludGVyO1xuICBvcGFjaXR5OjAuNDtcbn1cbi5jYXJkIHtcbiAgd2lkdGg6IDMwJTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["List","BoardModel","i0","ɵɵelementStart","ɵɵlistener","BoardComponent_app_list_17_Template_app_list_moveCardAcrossList_0_listener","$event","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","moveCardAcrossList","BoardComponent_app_list_17_Template_app_list_deleteList_0_listener","ctx_r5","deleteList","ɵɵelementEnd","ɵɵproperty","list_r1","i_r2","ɵɵattribute","BoardComponent","constructor","localService","formBuilder","searchForm","group","search","ngOnInit","board","getBoard","lists","addList","newList","position","length","name","undefined","push","console","log","movementInformation","cardMoved","fromListIdx","cards","splice","fromCardIdx","toListIdx","toCardIdx","saveBoard","boardModel","listIndex","ɵɵdirectiveInject","i1","LocalService","i2","FormBuilder","selectors","decls","vars","consts","template","BoardComponent_Template","rf","ctx","ɵɵelement","BoardComponent_Template_button_click_4_listener","ɵɵtext","ɵɵtemplate","BoardComponent_app_list_17_Template","BoardComponent_Template_h6_click_20_listener","ɵɵadvance","ɵɵpipeBind2","value"],"sourceRoot":"","sources":["/Users/mac/Desktop/kanban-angular/src/app/components/board/board/board.component.ts","/Users/mac/Desktop/kanban-angular/src/app/components/board/board/board.component.html"],"sourcesContent":["import { Component, NgModule, OnInit } from '@angular/core';\nimport { List, ListInterface } from '../../../model/list/list.model';\nimport { MovementIntf } from 'src/app/model/card/movement';\nimport { BoardService } from '../../../service/board/board-service';\nimport { BoardModel } from '../../../model/board/board.model';\nimport { LocalService } from '../../../service/board/local/local.service';\nimport {FormBuilder} from \"@angular/forms\";\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.css'],\n})\nexport class BoardComponent implements OnInit {\n\n\n  lists: ListInterface[] | undefined;\n  searchForm: any;\n\n  constructor(private localService: LocalService, private formBuilder: FormBuilder) {\n    this.searchForm = this.formBuilder.group({\n      search: '',\n    });\n  }\n\n  ngOnInit() {\n\n    const board = this.localService.getBoard();\n    this.lists = board.lists ||[\n          {\n            \"id\": '1',\n            \"cards\": [],\n            \"position\": 1,\n            \"name\": \"Todo\"\n          },\n          {\n            \"id\": '2',\n            \"cards\": [],\n            \"position\": 2,\n            \"name\": \"InProgress\"\n          },\n          {\n            \"id\": '3',\n            \"cards\": [],\n            \"position\": 3,\n            \"name\": \"Completed\"\n          }\n        ];\n\n    // ideally retrive and initialize from some storage.\n\n  }\n\n  addList() {\n    const newList: ListInterface = new List();\n    newList.position = this.lists!.length + 1;\n    newList.name = `List #${newList.position}`;\n    if (this.lists === undefined) {\n      this.lists = [];\n    }\n    this.lists.push(newList);\n    console.log(this.lists)\n  }\n\n  moveCardAcrossList(movementInformation: MovementIntf) {\n    const cardMoved = this.lists![movementInformation.fromListIdx].cards.splice(movementInformation.fromCardIdx, 1);\n    this.lists![movementInformation.toListIdx].cards.splice(movementInformation.toCardIdx, 0, ...cardMoved);\n  }\n\n  saveBoard() {\n    const boardModel = new BoardModel();\n    boardModel.lists = this.lists!;\n    this.localService.saveBoard(boardModel);\n  }\n\n  deleteList(listIndex: number) {\n    this.lists!.splice(listIndex, 1);\n  }\n}\n","<div class=\"container\" style=\"max-width:inherit;width:auto;height:100%;\">\n  <div class=\"row\">\n    <div class=\"col-11\"></div>\n    <div class=\"flex justify-content-end align-content-center py-3 pr-5\">\n      <button (click)=\"saveBoard()\" class=\"bg-blue-600 text-white py-2 px-3 border-round-md  outline-none\"\n        style=\"border: 0\">Save</button>\n    </div>\n  </div>\n  <div class=\"card\" style=\"height:inherit;\">\n    <form [formGroup]=\"searchForm\">\n      <input formControlName=\"search\" />\n    </form>\n    <div class=\"card\">\n      <h5>Search</h5>\n      <div class=\"field\">\n        <label for=\"firstname1\">Firstname</label>\n        <input id=\"firstname1\" type=\"text\" class=\"text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full\">\n      </div>\n    </div>\n    <div class=\"flex gap-3 card-container overflow-x-auto\tpb-4\">\n      <app-list *ngFor=\"let list of lists| searchFilter: searchForm.value.search;let i = index\" [list]=\"list\" [listIndex]=\"i\"\n        (moveCardAcrossList)=\"moveCardAcrossList($event)\" (deleteList)=\"deleteList($event)\"\n        attr.listIndex=\"{{i}}\"></app-list>\n      <div class=\"flex-1\" style=\"margin:10px;padding:15px;padding-top:15px;padding-bottom:15px;\">\n        <h6 class=\"text-center add-new-list\" (click)=\"addList()\">Add new item...</h6>\n      </div>\n    </div>\n  </div>\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}